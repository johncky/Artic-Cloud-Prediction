---
title: "test"
author: "Kwong Yu Chong, Jiahua Wang"
date: "2022-12-02"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


# read all CV results of all models
```{r}
library(dplyr)

extract_fold_loss = function(path='./data'){
  Kmeans_split_fold_loss = c()
  block_split_fold_loss = c()
  for (f_name in list.files(path)){
    df = readRDS(paste0(path, '/',f_name)) %>% .$fold_loss
    df[[f_name]] = df$accuracy
    df = df[, c('fold', f_name)]
    if (grepl( 'Kmeans', f_name, fixed = TRUE)){
      Kmeans_split_fold_loss = c(Kmeans_split_fold_loss, df)
    }else{
      block_split_fold_loss = c(block_split_fold_loss, df)
    }
  }
  Kmeans_fold_loss = do.call(cbind, Kmeans_split_fold_loss) %>% data.frame() %>% select(fold, contains('Kmeans'))
  block_fold_loss = do.call(cbind, block_split_fold_loss) %>% data.frame() %>% select(fold, contains('Kmeans'))
  return(list('Kmeans'=Kmeans_fold_loss,
              'Block' = block_fold_loss))
}


CV_res = extract_fold_loss()
model_res$Block_lda_res.rds

Kmeans_fold_loss
```